DROP TABLE IF EXISTS LIBRARY;
DROP TABLE IF EXISTS AUTHORITIES;
DROP TABLE IF EXISTS USER;
DROP TABLE IF EXISTS LOG;
DROP TABLE IF EXISTS TEST;

-- LIBRARY TABLE
CREATE TABLE IF NOT EXISTS LIBRARY (
  	ID  				INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  	LIB_NAME 			varchar(100) NOT NULL,
  	LIB_CREATOR 		varchar(60) NOT NULL,
  	LIB_CREATE_DATE 	date NOT NULL,
  	LIB_FILENAME		varchar(40) NOT NULL,
  	LIB_DESCRIPTION 	varchar(400) NOT NULL,
  	PRIMARY KEY (id)
) ;


--USER TABLE
CREATE TABLE IF NOT EXISTS USER (
    IDUSER 			INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
    USERNAME 		VARCHAR(255) NOT NULL PRIMARY KEY,
    PASSWORD  		VARCHAR(255) NOT NULL,
    ENABLED 		BOOLEAN NOT NULL
);

--AUTHORITIES TABLE
CREATE TABLE IF NOT EXISTS AUTHORITIES(
      USERNAME VARCHAR(255) NOT NULL,
      AUTHORITY VARCHAR(255) NOT NULL,
      CONSTRAINT FK_AUTHORITIES_USER FOREIGN KEY(USERNAME) REFERENCES USER(USERNAME));
;

--LOG TABLE
CREATE TABLE IF NOT EXISTS LOG (
	IDLOG INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
    LOGSTRING VARCHAR(1000) NULL,
    PRIMARY KEY (IDLOG)
);

--TEST TABLE
CREATE TABLE IF NOT EXISTS TEST (
	IDTEST INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
    TESTCOLUMN VARCHAR(1000) NULL,
    PRIMARY KEY (IDTEST)
);



